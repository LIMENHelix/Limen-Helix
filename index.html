<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LIMEN Helix – The Threshold</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#000;overflow:hidden;height:100vh;width:100vw;font-family:Georgia,serif}

/* Matrix rain canvas - behind everything */
#matrix{position:fixed;inset:0;z-index:1}

/* Kaleidoscope canvas - on top of matrix */
#kaleidoscope{position:fixed;inset:0;z-index:2}

/* Gate overlay */
#gate{
  position:fixed;inset:0;z-index:10;display:flex;align-items:center;justify-content:center;
  flex-direction:column;cursor:pointer;
}

/* Vignette over everything */
#gate::before{
  content:'';position:absolute;inset:0;
  background:radial-gradient(ellipse at center,transparent 30%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0.8) 100%);
  pointer-events:none;z-index:1;
}

/* Corner glyphs */
.cg{position:absolute;font-size:1.4rem;color:rgba(201,169,78,0.3);letter-spacing:4px;z-index:3;
  animation:gb 5s ease-in-out infinite;text-shadow:0 0 15px rgba(201,169,78,0.2)}
.cg.tl{top:1.5rem;left:1.5rem}.cg.tr{top:1.5rem;right:1.5rem;animation-delay:1.2s}
.cg.bl{bottom:1.5rem;left:1.5rem;animation-delay:2.5s}.cg.br{bottom:1.5rem;right:1.5rem;animation-delay:3.7s}
@keyframes gb{0%,100%{opacity:.3;text-shadow:0 0 15px rgba(201,169,78,0.2)}50%{opacity:.8;text-shadow:0 0 30px rgba(201,169,78,0.5)}}

/* Center eye container */
#eye-wrap{position:relative;z-index:3;width:200px;height:200px;display:flex;align-items:center;justify-content:center}
#eye-wrap svg{width:100%;height:100%;filter:drop-shadow(0 0 30px rgba(201,169,78,0.3))}

/* Gate text */
#gt{text-align:center;z-index:3;opacity:0;animation:fu 2s ease 1s forwards}
@keyframes fu{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
#gt1{font-size:.6rem;letter-spacing:12px;color:rgba(201,169,78,0.5);text-transform:uppercase;font-family:monospace;margin-bottom:.5rem;text-shadow:0 0 20px rgba(201,169,78,0.3)}
#gt2{font-size:.75rem;color:rgba(201,169,78,0.2);letter-spacing:3px;font-style:italic}
#gate:hover #gt1{color:rgba(201,169,78,0.9);text-shadow:0 0 30px rgba(201,169,78,0.5)}
#gate:hover #gt2{color:rgba(201,169,78,0.5)}
#gate:hover .cg{color:rgba(201,169,78,0.6)}
#gate:hover #eye-wrap svg{filter:drop-shadow(0 0 60px rgba(201,169,78,0.5)) drop-shadow(0 0 100px rgba(120,80,200,0.2))}

/* ═══ PORTAL ═══ */
#portal{position:fixed;inset:0;z-index:9999;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0);transition:background 1.2s ease}
#portal *{position:relative;z-index:1}
#vr{
  width:0;height:0;border-radius:50%;
  background:radial-gradient(ellipse at center,rgba(8,5,18,0.97) 0%,rgba(2,1,5,0.99) 100%);
  box-shadow:0 0 120px rgba(201,169,78,0.12),0 0 250px rgba(120,80,200,0.06);
  transition:all 2s cubic-bezier(0.16,1,0.3,1);
  display:flex;align-items:center;justify-content:center;overflow:visible;position:relative;
}
#vr::before{content:'';position:absolute;inset:-3px;border-radius:50%;border:2px solid transparent;background:conic-gradient(from 0deg,rgba(201,169,78,0.5),rgba(120,80,200,0.3),rgba(255,50,150,0.2),rgba(80,180,255,0.3),rgba(201,169,78,0.5)) border-box;-webkit-mask:linear-gradient(#fff 0 0) padding-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;animation:rs 12s linear infinite}
#vr::after{content:'';position:absolute;inset:-8px;border-radius:50%;border:1px solid transparent;background:conic-gradient(from 180deg,rgba(255,100,200,0.2),transparent,rgba(80,255,180,0.15),transparent,rgba(255,180,80,0.2)) border-box;-webkit-mask:linear-gradient(#fff 0 0) padding-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;animation:rs 20s linear infinite reverse}
@keyframes rs{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

#pc{opacity:0;transform:scale(0.85);transition:all 1s ease;text-align:center;padding:1.5rem;width:100%;max-width:500px}
#pc.vis{opacity:1;transform:scale(1)}
.ctp{font-size:.45rem;letter-spacing:8px;color:#C9A94E;text-transform:uppercase;font-family:monospace;margin-bottom:.5rem}
.ctt{font-size:1.9rem;color:#f8eacb;font-weight:300;margin-bottom:.3rem}
.cts{font-size:.78rem;color:#555;line-height:1.8;margin-bottom:1.8rem;font-style:italic}
.og{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:1.2rem}
.oc{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  padding:22px 14px;border:1px solid rgba(201,169,78,0.15);
  background:rgba(201,169,78,0.02);text-decoration:none;cursor:pointer;
  transition:all .4s;position:relative;overflow:hidden;border-radius:3px;
}
.oc:hover{border-color:rgba(201,169,78,0.5);background:rgba(201,169,78,0.08);box-shadow:0 0 40px rgba(201,169,78,0.08),0 0 80px rgba(120,80,200,0.04)}
.oi{font-size:1.8rem;margin-bottom:8px;display:block}
.on{font-size:.6rem;letter-spacing:4px;color:#C9A94E;text-transform:uppercase;display:block}
.od{font-size:.5rem;color:#555;margin-top:5px;letter-spacing:1px;display:block}
.pb{
  display:inline-block;background:none;border:1px solid rgba(201,169,78,0.12);color:#444;
  padding:10px 28px;font-size:.55rem;letter-spacing:3px;cursor:pointer;
  text-transform:uppercase;font-family:monospace;transition:all .3s;text-decoration:none;margin-top:1rem;
}
.pb:hover{color:#C9A94E;border-color:rgba(201,169,78,0.35)}

.gate-opening{opacity:0!important;transition:opacity 1s!important}
@media(max-width:600px){#eye-wrap{width:150px;height:150px}.cg{font-size:1rem}.ctt{font-size:1.5rem}.og{gap:6px}.oc{padding:16px 10px}}
</style>
</head>
<body>

<canvas id="matrix"></canvas>
<canvas id="kaleidoscope"></canvas>

<div id="gate" onclick="openThreshold()">
  <span class="cg tl">Ω · Α</span><span class="cg tr">Δ · Σ</span>
  <span class="cg bl">Ψ · Θ</span><span class="cg br">Φ · Λ</span>
  <div id="eye-wrap">
    <svg viewBox="0 0 200 200">
      <circle cx="100" cy="100" r="90" fill="none" stroke="rgba(201,169,78,0.15)" stroke-width=".5">
        <animateTransform attributeName="transform" type="rotate" from="0 100 100" to="360 100 100" dur="30s" repeatCount="indefinite"/>
      </circle>
      <circle cx="100" cy="100" r="70" fill="none" stroke="rgba(160,100,255,0.1)" stroke-width=".4" stroke-dasharray="3 5">
        <animateTransform attributeName="transform" type="rotate" from="360 100 100" to="0 100 100" dur="20s" repeatCount="indefinite"/>
      </circle>
      <circle cx="100" cy="100" r="50" fill="none" stroke="rgba(201,169,78,0.2)" stroke-width=".5">
        <animateTransform attributeName="transform" type="rotate" from="0 100 100" to="360 100 100" dur="15s" repeatCount="indefinite"/>
      </circle>
      <circle cx="100" cy="100" r="30" fill="rgba(0,0,0,0.8)"/>
      <ellipse cx="100" cy="100" rx="30" ry="10" fill="none" stroke="rgba(201,169,78,0.8)" stroke-width="1.2">
        <animate attributeName="ry" values="10;2;10" dur="6s" repeatCount="indefinite"/>
      </ellipse>
      <circle cx="100" cy="100" r="8" fill="rgba(201,169,78,0.9)">
        <animate attributeName="r" values="8;5;8" dur="3s" repeatCount="indefinite"/>
        <animate attributeName="fill" values="rgba(201,169,78,0.9);rgba(255,100,200,0.8);rgba(80,180,255,0.9);rgba(201,169,78,0.9)" dur="8s" repeatCount="indefinite"/>
      </circle>
      <circle cx="100" cy="100" r="3" fill="#000"/>
    </svg>
  </div>
  <div id="gt">
    <div id="gt1">Enter the Threshold</div>
    <div id="gt2">click to cross</div>
  </div>
</div>

<div id="portal">
  <div id="vr">
    <div id="pc">
      <p class="ctp">You have crossed the limen</p>
      <h1 class="ctt">The Inner Chamber</h1>
      <p class="cts">What you offer here feeds the pattern.<br>What returns to you is the architecture of your own becoming.</p>
      <div class="og">
        <a href="https://chapel-pos-v2.vercel.app" target="_blank" rel="noopener" class="oc" onclick="event.stopPropagation()">
          <span class="oi">✦</span><span class="on">Offering</span><span class="od">Donation · Tithe</span>
        </a>
        <a href="https://chapel-pos-v2.vercel.app" target="_blank" rel="noopener" class="oc" onclick="event.stopPropagation()">
          <span class="oi">⬡</span><span class="on">Workshop</span><span class="od">Sessions · Training</span>
        </a>
        <a href="https://chapel-pos-v2.vercel.app" target="_blank" rel="noopener" class="oc" onclick="event.stopPropagation()">
          <span class="oi">⊕</span><span class="on">Consultation</span><span class="od">1-on-1 · Guidance</span>
        </a>
        <a href="https://chapel-pos-v2.vercel.app" target="_blank" rel="noopener" class="oc" onclick="event.stopPropagation()">
          <span class="oi">◇</span><span class="on">Materials</span><span class="od">Texts · Resources</span>
        </a>
      </div>
      <button class="pb" onclick="closeThreshold()">← Return to Gate</button>
      <p style="font-size:.35rem;color:rgba(201,169,78,0.06);margin-top:1.2rem;letter-spacing:4px;text-transform:uppercase">Chapel of the LIMEN Helix · 501(c)(3) · EIN 33-4945631</p>
    </div>
  </div>
</div>

<script>
// ═══════════════════════════════════════
// MATRIX RAIN
// ═══════════════════════════════════════
var mc=document.getElementById('matrix'),mx=mc.getContext('2d');
mc.width=window.innerWidth;mc.height=window.innerHeight;

var chars='ΩΔΨΦΛΣΘΑΒΓΕΖΗΙΚΜΝΞΟΠΡΤΥΧアイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン01234567890∞∑∏∫√∂≈≠≡∈∉⊂⊃∪∩';
var charArr=chars.split('');
var fontSize=14;
var cols=Math.floor(mc.width/fontSize);
var drops=[];
for(var i=0;i<cols;i++)drops[i]=Math.random()*-100;

function drawMatrix(){
  mx.fillStyle='rgba(0,0,0,0.06)';
  mx.fillRect(0,0,mc.width,mc.height);
  
  for(var i=0;i<drops.length;i++){
    var char=charArr[Math.floor(Math.random()*charArr.length)];
    var x=i*fontSize;
    var y=drops[i]*fontSize;
    
    // Color variety - gold, purple, blue, pink, green
    var colorChoice=Math.random();
    if(colorChoice<0.3){
      mx.fillStyle='rgba(201,169,78,'+(0.4+Math.random()*0.6)+')';
      mx.shadowColor='rgba(201,169,78,0.5)';
    }else if(colorChoice<0.5){
      mx.fillStyle='rgba(160,100,255,'+(0.3+Math.random()*0.5)+')';
      mx.shadowColor='rgba(160,100,255,0.4)';
    }else if(colorChoice<0.65){
      mx.fillStyle='rgba(80,180,255,'+(0.3+Math.random()*0.5)+')';
      mx.shadowColor='rgba(80,180,255,0.4)';
    }else if(colorChoice<0.8){
      mx.fillStyle='rgba(255,80,180,'+(0.3+Math.random()*0.5)+')';
      mx.shadowColor='rgba(255,80,180,0.4)';
    }else{
      mx.fillStyle='rgba(80,255,150,'+(0.3+Math.random()*0.5)+')';
      mx.shadowColor='rgba(80,255,150,0.4)';
    }
    
    mx.shadowBlur=Math.random()*8;
    mx.font=fontSize+'px monospace';
    mx.fillText(char,x,y);
    mx.shadowBlur=0;
    
    if(y>mc.height&&Math.random()>0.975)drops[i]=0;
    drops[i]+=0.5+Math.random()*0.5;
  }
  requestAnimationFrame(drawMatrix);
}
drawMatrix();

// ═══════════════════════════════════════
// KALEIDOSCOPE FRACTALS
// ═══════════════════════════════════════
var kc=document.getElementById('kaleidoscope'),kx=kc.getContext('2d');
kc.width=window.innerWidth;kc.height=window.innerHeight;

var t=0;
function drawKaleidoscope(){
  kx.clearRect(0,0,kc.width,kc.height);
  var cx=kc.width/2,cy=kc.height/2,maxR=Math.min(kc.width,kc.height)*0.48;
  
  // Spiraling fractal arms
  for(var arm=0;arm<12;arm++){
    var baseA=(arm/12)*Math.PI*2+t*0.15;
    kx.beginPath();
    for(var i=0;i<300;i++){
      var ratio=i/300;
      var a=baseA+ratio*Math.PI*6+Math.sin(t*0.3+ratio*4)*0.8;
      var r=ratio*maxR;
      var wobble=Math.sin(t*2+ratio*10+arm)*r*0.02;
      var x=cx+Math.cos(a)*(r+wobble);
      var y=cy+Math.sin(a)*(r+wobble);
      if(i===0)kx.moveTo(x,y);else kx.lineTo(x,y);
    }
    var hue=(arm*30+t*25)%360;
    kx.strokeStyle='hsla('+hue+',80%,60%,'+(0.04+Math.sin(t*0.5+arm)*0.02)+')';
    kx.lineWidth=1.2;
    kx.stroke();
  }
  
  // Rotating polygon mandala layers
  for(var layer=0;layer<8;layer++){
    var lr=maxR*(0.1+layer*0.11);
    var sides=3+layer;
    var rot=t*(layer%2===0?0.2:-0.2)+layer*0.4;
    
    kx.beginPath();
    for(var s=0;s<=sides;s++){
      var a=(s/sides)*Math.PI*2+rot;
      var pulse=Math.sin(t*1.5+layer+s)*lr*0.04;
      var x=cx+Math.cos(a)*(lr+pulse);
      var y=cy+Math.sin(a)*(lr+pulse);
      if(s===0)kx.moveTo(x,y);else kx.lineTo(x,y);
    }
    kx.closePath();
    var hue2=(layer*45+t*20+120)%360;
    kx.strokeStyle='hsla('+hue2+',70%,55%,'+(0.06+Math.sin(t+layer)*0.03)+')';
    kx.lineWidth=1+layer*0.15;
    kx.stroke();
    
    // Connect vertices to center
    for(var s=0;s<sides;s++){
      var a=(s/sides)*Math.PI*2+rot;
      kx.beginPath();
      kx.moveTo(cx,cy);
      kx.lineTo(cx+Math.cos(a)*lr,cy+Math.sin(a)*lr);
      kx.strokeStyle='hsla('+((hue2+180)%360)+',60%,50%,0.02)';
      kx.lineWidth=0.5;
      kx.stroke();
    }
  }
  
  // Pulsing concentric rings
  for(var ring=0;ring<15;ring++){
    var rr=maxR*(ring/15)+Math.sin(t*2+ring)*10;
    kx.beginPath();
    kx.arc(cx,cy,Math.abs(rr),0,Math.PI*2);
    var hue3=(ring*24+t*30)%360;
    kx.strokeStyle='hsla('+hue3+',90%,65%,'+(0.02+Math.sin(t*3+ring*0.5)*0.015)+')';
    kx.lineWidth=0.6;
    kx.stroke();
  }
  
  // Sacred geometry burst lines
  for(var ray=0;ray<24;ray++){
    var a=(ray/24)*Math.PI*2+t*0.1;
    kx.beginPath();
    kx.moveTo(cx+Math.cos(a)*maxR*0.05,cy+Math.sin(a)*maxR*0.05);
    kx.lineTo(cx+Math.cos(a)*maxR,cy+Math.sin(a)*maxR);
    var hue4=(ray*15+t*35)%360;
    kx.strokeStyle='hsla('+hue4+',70%,50%,0.015)';
    kx.lineWidth=0.4;
    kx.stroke();
  }
  
  t+=0.012;
  requestAnimationFrame(drawKaleidoscope);
}
drawKaleidoscope();

// Resize
window.addEventListener('resize',function(){
  mc.width=kc.width=window.innerWidth;
  mc.height=kc.height=window.innerHeight;
  cols=Math.floor(mc.width/fontSize);
  drops=[];for(var i=0;i<cols;i++)drops[i]=Math.random()*-100;
});

// ═══════════════════════════════════════
// PORTAL CONTROLS
// ═══════════════════════════════════════
function openThreshold(){
  var g=document.getElementById('gate'),p=document.getElementById('portal'),
      vr=document.getElementById('vr'),pc=document.getElementById('pc');
  g.classList.add('gate-opening');
  setTimeout(function(){
    p.style.display='flex';
    setTimeout(function(){p.style.background='rgba(0,0,0,0.95)'},50);
  },600);
  setTimeout(function(){
    vr.style.width='90vmin';vr.style.height='90vmin';
    vr.style.maxWidth='680px';vr.style.maxHeight='680px';
  },900);
  setTimeout(function(){pc.classList.add('vis')},1900);
  setTimeout(function(){g.style.display='none'},2000);
}

function closeThreshold(){
  var g=document.getElementById('gate'),p=document.getElementById('portal'),
      vr=document.getElementById('vr'),pc=document.getElementById('pc');
  pc.classList.remove('vis');
  setTimeout(function(){vr.style.width='0';vr.style.height='0'},300);
  setTimeout(function(){p.style.background='rgba(0,0,0,0)'},1000);
  setTimeout(function(){
    p.style.display='none';g.style.display='flex';g.classList.remove('gate-opening');
  },1400);
}

// Parallax on eye
document.getElementById('gate').addEventListener('mousemove',function(e){
  var r=this.getBoundingClientRect(),x=(e.clientX-r.left)/r.width-.5,y=(e.clientY-r.top)/r.height-.5;
  document.getElementById('eye-wrap').style.transform='translate('+x*30+'px,'+y*30+'px)';
});
</script>
</body>
</html>
